{"ast":null,"code":"import buttons from \"@/components/UI/button-add.vue\";\nimport api from \"@/api\";\nimport LoadingIndicate from \"@/components/UI/LoadingIndicate.vue\";\nexport default {\n  components: {\n    buttons,\n    LoadingIndicate\n  },\n\n  data() {\n    return {\n      meetings: [{\n        client: {},\n        place: {}\n      }],\n      nearMeeting: {\n        contact: {},\n        client: {},\n        place: {}\n      },\n      isLoadedMeetings: false\n    };\n  },\n\n  async mounted() {\n    this.meetings = await api.getMeetings();\n    this.prepareMeetingsForDisplay();\n    this.nearMeeting = this.meetings[0];\n    this.isLoadedMeetings = true;\n  },\n\n  methods: {\n    async prepareMeetingsForDisplay() {\n      const clients = await api.getClients();\n      const mathchIdToClient = new Map();\n      clients.forEach(item => {\n        mathchIdToClient.set(item.id, item);\n      });\n      const places = await api.getPlaces();\n      const matchIdToPlace = new Map();\n      places.forEach(item => {\n        matchIdToPlace.set(item.id, item);\n      });\n      this.meetings.forEach(meeting => {\n        meeting.client = mathchIdToClient.get(meeting.client);\n        meeting.start = meeting.start.substr(0, 5);\n        meeting.end = meeting.end.substr(0, 5);\n        meeting.place = matchIdToPlace.get(meeting.place);\n      });\n      const contact = await api.getContact(this.meetings[0].contact);\n      this.meetings[0].contact = contact;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAsDA,OAAOA,OAAP,MAAoB,gCAApB;AACA,OAAOC,GAAP,MAAgB,OAAhB;AACA,OAAOC,eAAP,MAA4B,qCAA5B;AAEA,eAAe;EACbC,UAAU,EAAE;IAAEH,OAAF;IAAWE;EAAX,CADC;;EAGbE,IAAI,GAAG;IACL,OAAO;MACLC,QAAQ,EAAE,CACR;QACEC,MAAM,EAAE,EADV;QAEEC,KAAK,EAAE;MAFT,CADQ,CADL;MAOLC,WAAW,EAAE;QACXC,OAAO,EAAE,EADE;QAEXH,MAAM,EAAE,EAFG;QAGXC,KAAK,EAAE;MAHI,CAPR;MAYLG,gBAAgB,EAAE;IAZb,CAAP;EAcD,CAlBY;;EAoBb,MAAMC,OAAN,GAAgB;IACd,KAAKN,QAAL,GAAgB,MAAMJ,GAAG,CAACW,WAAJ,EAAtB;IACA,KAAKC,yBAAL;IACA,KAAKL,WAAL,GAAmB,KAAKH,QAAL,CAAc,CAAd,CAAnB;IACA,KAAKK,gBAAL,GAAwB,IAAxB;EACD,CAzBY;;EA2BbI,OAAO,EAAE;IACP,MAAMD,yBAAN,GAAkC;MAChC,MAAME,OAAM,GAAI,MAAMd,GAAG,CAACe,UAAJ,EAAtB;MACA,MAAMC,gBAAe,GAAI,IAAIC,GAAJ,EAAzB;MACAH,OAAO,CAACI,OAAR,CAAiBC,IAAD,IAAU;QACxBH,gBAAgB,CAACI,GAAjB,CAAqBD,IAAI,CAACE,EAA1B,EAA8BF,IAA9B;MACD,CAFD;MAIA,MAAMG,MAAK,GAAI,MAAMtB,GAAG,CAACuB,SAAJ,EAArB;MACA,MAAMC,cAAa,GAAI,IAAIP,GAAJ,EAAvB;MACAK,MAAM,CAACJ,OAAP,CAAgBC,IAAD,IAAU;QACvBK,cAAc,CAACJ,GAAf,CAAmBD,IAAI,CAACE,EAAxB,EAA4BF,IAA5B;MACD,CAFD;MAIA,KAAKf,QAAL,CAAcc,OAAd,CAAuBO,OAAD,IAAa;QACjCA,OAAO,CAACpB,MAAR,GAAiBW,gBAAgB,CAACU,GAAjB,CAAqBD,OAAO,CAACpB,MAA7B,CAAjB;QACAoB,OAAO,CAACE,KAAR,GAAgBF,OAAO,CAACE,KAAR,CAAcC,MAAd,CAAqB,CAArB,EAAwB,CAAxB,CAAhB;QACAH,OAAO,CAACI,GAAR,GAAcJ,OAAO,CAACI,GAAR,CAAYD,MAAZ,CAAmB,CAAnB,EAAsB,CAAtB,CAAd;QACAH,OAAO,CAACnB,KAAR,GAAgBkB,cAAc,CAACE,GAAf,CAAmBD,OAAO,CAACnB,KAA3B,CAAhB;MACD,CALD;MAOA,MAAME,OAAM,GAAI,MAAMR,GAAG,CAAC8B,UAAJ,CAAe,KAAK1B,QAAL,CAAc,CAAd,EAAiBI,OAAhC,CAAtB;MACA,KAAKJ,QAAL,CAAc,CAAd,EAAiBI,OAAjB,GAA2BA,OAA3B;IACD;;EAvBM;AA3BI,CAAf","names":["buttons","api","LoadingIndicate","components","data","meetings","client","place","nearMeeting","contact","isLoadedMeetings","mounted","getMeetings","prepareMeetingsForDisplay","methods","clients","getClients","mathchIdToClient","Map","forEach","item","set","id","places","getPlaces","matchIdToPlace","meeting","get","start","substr","end","getContact"],"sourceRoot":"","sources":["/Users/root1/Developments/SberMeetingsWeb/WebApplication/vue-project/src/components/Meetings.vue"],"sourcesContent":["<template>\n  <main>\n    <div v-if=\"isLoadedMeetings\" class=\"near-meet\">\n      <h4 class=\"near-meet-text\">Ближайшая встреча:</h4>\n\n      <div class=\"container-window\">\n        <button class=\"pencil-meet\">\n          <img src=\"/svg/pencil.svg\" alt=\"\" class=\"pencil-icon\" />\n        </button>\n        <p class=\"client-wiindow\">{{ nearMeeting.client.name }}</p>\n        <div class=\"window-tel-and-contact\">\n          <p class=\"contact-window\">\n            {{ nearMeeting.contact.first_name }}\n            {{ nearMeeting.contact.second_name }}\n            {{ nearMeeting.contact.third_name }}\n          </p>\n          <p class=\"tel-window\">{{ nearMeeting.contact.phone }}</p>\n        </div>\n        <p class=\"theme-window\">{{ nearMeeting.topic }}</p>\n        <div class=\"data-and-time-window\">\n          <p class=\"data-window\">{{ nearMeeting.date }}</p>\n          <p class=\"time-window\">\n            {{ nearMeeting.start }} - {{ nearMeeting.end }}\n          </p>\n        </div>\n        <p class=\"place-window\">{{ nearMeeting.place.name }}</p>\n      </div>\n\n      <div class=\"green-button-add\">\n        <buttons></buttons>\n      </div>\n    </div>\n\n    <div v-if=\"isLoadedMeetings\" class=\"list-meet\">\n      <h4 class=\"list-meet-text\">Список встреч</h4>\n\n      <ul class=\"list-all-meet\">\n        <li v-for=\"meeting in meetings\" :key=\"meeting\" class=\"all-meet-item\">\n          <div class=\"data-time-place-item\">\n            <p class=\"data-item\">{{ meeting.date }}</p>\n            <p class=\"time-item\">{{ meeting.start }} - {{ meeting.end }}</p>\n            <p class=\"place-item\">{{ meeting.place.name }}</p>\n          </div>\n          <p class=\"theme-item\">{{ meeting.topic }}</p>\n          <p class=\"client-item\">{{ meeting.client.name }}</p>\n        </li>\n      </ul>\n    </div>\n\n    <loading-indicate v-else class=\"indicator\"></loading-indicate>\n  </main>\n</template>\n\n<script>\nimport buttons from \"@/components/UI/button-add.vue\";\nimport api from \"@/api\";\nimport LoadingIndicate from \"@/components/UI/LoadingIndicate.vue\" ;\n\nexport default {\n  components: { buttons, LoadingIndicate},\n\n  data() {\n    return {\n      meetings: [\n        {\n          client: {},\n          place: {},\n        },\n      ],\n      nearMeeting: {\n        contact: {},\n        client: {},\n        place: {},\n      },\n      isLoadedMeetings: false\n    };\n  },\n\n  async mounted() {\n    this.meetings = await api.getMeetings();\n    this.prepareMeetingsForDisplay();\n    this.nearMeeting = this.meetings[0];\n    this.isLoadedMeetings = true\n  },\n\n  methods: {\n    async prepareMeetingsForDisplay() {\n      const clients = await api.getClients();\n      const mathchIdToClient = new Map();\n      clients.forEach((item) => {\n        mathchIdToClient.set(item.id, item);\n      });\n\n      const places = await api.getPlaces();\n      const matchIdToPlace = new Map();\n      places.forEach((item) => {\n        matchIdToPlace.set(item.id, item);\n      });\n\n      this.meetings.forEach((meeting) => {\n        meeting.client = mathchIdToClient.get(meeting.client);\n        meeting.start = meeting.start.substr(0, 5);\n        meeting.end = meeting.end.substr(0, 5);\n        meeting.place = matchIdToPlace.get(meeting.place);\n      });\n\n      const contact = await api.getContact(this.meetings[0].contact);\n      this.meetings[0].contact = contact;\n    },\n  },\n};\n</script>\n\n<style scoped>\n@import url('../assests/fonts/Exo_2/stylesheet.css');\n\n* {\n  font-family: 'Exo 2';\n}\n\nul {\n  list-style: none;\n  padding: 0;\n}\n\nbutton {\n  background-color: white;\n  border: none;\n  margin: 0;\n  padding: 0;\n}\n\np {\n  font-size: 20px;\n  margin: 0;\n}\n\nli p {\n  font-family: 'Exo 2';\n  font-weight: 700;\n  font-size: 0.75rem;\n  margin-left: 17px;\n  margin-right: 17px;\n}\n\n.theme-item {\n  font-size: 0.88rem;\n  overflow: auto;\n  word-break: break-all;\n}\n\n.near-meet-text {\n  margin-top: 31px;\n  margin-bottom: 31px;\n}\n\n.near-meet {\n  margin-right: 40px;\n  margin-left: 10.14%;\n  flex: 2;\n}\n\n.green-button-add {\n  display: flex;\n  justify-content: center;\n}\n\n.data-time-place-item {\n  display: flex;\n  justify-content: space-between;\n}\n\n.window-tel-and-contact {\n  display: flex;\n}\n\n.pencil-meet {\n  margin-top: 38px;\n  margin-right: 23px;\n  margin-left: auto;\n  display: flex;\n  background: #ffffff;\n  border: 0;\n  padding: 0;\n}\n\n.contact-window {\n  flex: 1;\n}\n\n.tel-window {\n  flex: 1;\n}\n\n.all-meet-item {\n  height: 127px;\n  background: #f1fbf2;\n  border: 0.714062px solid #f1fbf2;\n  box-shadow: 0px 2.85625px 2.85625px rgba(0, 0, 0, 0.25);\n  border-radius: 10px;\n  margin-bottom: 9px;\n  margin-top: 9px;\n}\n\n.data-and-time-window {\n  display: flex;\n}\n\n.near-meet {\n  display: flex;\n  flex-direction: column;\n  height: 80vh;\n}\n\n.container-window {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  background: #ffffff;\n  border: 1px solid #bdbdbd;\n  border-radius: 30px;\n  margin-bottom: 2rem;\n  justify-content: space-around;\n  height: 80vh;\n}\n\n.client-wiindow,\n.contact-window,\n.theme-window,\n.data-window,\n.place-window {\n  margin-left: 40px;\n}\n\n.place-window {\n  margin-bottom: 60px;\n}\n\nmain {\n  display: flex;\n  justify-content: space-around;\n  width: 100vw;\n}\n\n.theme-window {\n  margin-bottom: 123px;\n  font-weight: 700;\n  font-size: 2rem;\n  word-break: break-all;\n  overflow: auto;\n}\n\n.list-all-meet {\n  height: 86%;\n  background: #00b268;\n  border-radius: 20px;\n  overflow: auto;\n}\n\n.list-all-meet li {\n  font-weight: 700;\n  margin-left: 16px;\n  margin-right: 16px;\n}\n\n.data-window {\n  flex: 1;\n  font-size: 1.125rem;\n  font-weight: 700;\n}\n\n.time-window {\n  flex: 1;\n  font-weight: 700;\n  font-size: 1.25rem;\n}\n\n.client-wiindow {\n  margin-bottom: 26px;\n}\n\n.list-meet {\n  flex: 1;\n  margin-right: 10.14%;\n  height: 87vh;\n}\n\n.data-window,\n.time-window,\n.place-window {\n  font-weight: bolder;\n}\n\n.pencil-icon {\n  max-width: 100%;\n}\n\n/* Responsive layout */\n\n@media (max-width: 1200px) {\n  main {\n    flex-direction: column;\n    align-content: center;\n    background-color: #e2eee3;\n  }\n\n  .list-meet {\n    margin-left: 2rem;\n    margin-right: 40px;\n    margin-left: 40px;\n    height: auto;\n  }\n\n  .list-all-meet {\n    overflow: none;\n    width: 100%;\n  }\n\n  .near-meet {\n    margin-left: 40px;\n    flex: 1;\n  }\n\n  .container-window {\n    height: 300px;\n    width: 100%;\n  }\n\n  .green-button-add {\n    display: none;\n  }\n\n  .theme-window,\n  .client-wiindow {\n    margin-bottom: 0;\n  }\n\n  .pencil-meet {\n    margin: 1rem 1rem 1rem 1rem;\n    justify-content: flex-end;\n  }\n\n  .pencil-icon {\n    max-width: 30px;\n    max-height: 30px;\n  }\n  \n  .theme-window {\n    margin-right: 1rem;\n  }\n}\n\n@media (max-width: 992px) {\n  .container-window {\n    width: 100%;\n    margin-bottom: 0;\n    margin-top: 1rem;\n    height: 250px;\n  }\n\n  .near-meet {\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .list-meet {\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .near-meet-text,\n  .pencil-meet,\n  .list-meet-text {\n    display: none;\n  }\n\n  .place-window {\n    margin-bottom: 0;\n    font-size: 1.25rem;\n    font-weight: 700;\n  }\n}\n\n@media (max-width: 768px) {\n  .container-window {\n    height: 200px;\n    gap: 0;\n    justify-content: space-around;\n    margin-top: 1rem;\n  }\n\n  main p {\n    font-size: 1rem;\n  }\n\n  .data-window,\n  .time-window,\n  .place-window {\n    font-size: 1rem;\n  }\n\n  .theme-window {\n    font-size: 1.1rem;\n  }\n  \n  .list-all-meet {\n    font-size: 0.8rem;\n    word-break: break-all;\n  }\n}\n\n@media (max-height: 851px) {\n  .container-window {\n    justify-content: center;\n    gap: 1rem;\n  }\n\n  .client-wiindow,\n  .contact-window,\n  .theme-window,\n  .data-window,\n  .place-window {\n    margin-bottom: 0;\n    margin-top: 0;\n  }\n\n  .pencil-meet {\n    display: none;\n  }\n}\n\n@media (max-height: 415px) {\n  .container-window {\n    height: 180px;\n    justify-content: center;\n    margin-top: 0.5rem;\n    gap: 0;\n  }\n\n  .near-meet-text,\n  .pencil-meet,\n  .list-meet-text {\n    display: none;\n  }\n\n  .place-window {\n    margin-bottom: 0;\n  }\n}\n\n</style>"]},"metadata":{},"sourceType":"module"}